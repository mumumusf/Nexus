# Nexus Network 一体化管理工具

基于 Nexus Network 的节点自动化部署和管理脚本，支持智能多开、内存检测和完整的节点管理功能。

## ✨ 主要特点

- 🌐 **跨平台支持**: 支持 Linux 和 Windows WSL 环境
- 🧠 **智能内存检测**: 自动分析系统内存并推荐最佳节点数量
- 🚀 **一键多开**: 支持同时运行多个节点实例
- 📱 **Screen 会话管理**: SSH断开后继续运行
- 🛠️ **完整管理界面**: 节点状态查看、启停控制、资源监控
- 🔧 **环境自适应**: 自动检测并适配不同Linux发行版
- 📊 **实时监控**: 系统资源使用情况实时显示
- ⚡ **快速部署**: 自动安装所有依赖和工具

## 🌐 支持环境

### Linux 发行版
- ✅ Ubuntu (18.04+)
- ✅ Debian (10+)
- ✅ CentOS (7+)
- ✅ Fedora
- ✅ Arch Linux
- ✅ 其他支持 apt/yum/dnf/pacman 的发行版

### Windows WSL
- ✅ WSL 1 (基础支持)
- ✅ **WSL 2** (推荐)
- ✅ Ubuntu on WSL
- ✅ Debian on WSL
- ✅ 其他 Linux 发行版 on WSL

## 📋 系统要求

### 基本要求
- **内存**: 至少 6GB (每个节点需要 4GB + 系统保留 2GB)
- **存储**: 至少 2GB 可用空间
- **网络**: 稳定的互联网连接
- **权限**: sudo 权限或 root 用户

### Windows WSL 额外要求
- Windows 10 版本 1903 及以上
- 已启用 WSL 功能
- 已安装 Linux 发行版
- 推荐使用 WSL 2 以获得更好性能

## 🚀 快速开始

### Linux 环境

1. **下载脚本**
   ```bash
   curl -o yoyom https://raw.githubusercontent.com/mumumusf/nexus/main/yoyom
   ```

2. **运行工具**
   ```bash
   bash yoyom
   ```

### Windows WSL 环境

1. **安装并启动 WSL**
   - 在 PowerShell 中以管理员身份运行：
   ```powershell
   wsl --install
   ```
   - 重启计算机
   - 设置 Ubuntu 用户名和密码

2. **在 WSL 中下载并运行**
   ```bash
   curl -o yoyom https://raw.githubusercontent.com/mumumusf/nexus/main/yoyom
   bash yoyom
   ```

## 💻 使用指南

### 主菜单功能

运行 `bash yoyom` 后显示主菜单：

```
=============== 主菜单 ===============
1. 🚀 安装并启动 Nexus 节点
2. 🛠️ 管理现有节点
3. 💻 查看系统资源
4. ℹ️ 显示帮助信息
0. 🚪 退出
====================================
```

### 命令行参数

- `bash yoyom` - 交互式主菜单
- `bash yoyom --install` - 直接进入安装模式
- `bash yoyom --manage` - 直接进入管理模式

### 首次安装流程

1. **选择安装选项**: 选择菜单选项 1
2. **环境检测**: 自动检测 WSL/Linux 环境和发行版
3. **内存检测**: 分析系统内存并推荐节点数量
4. **自动安装**: 安装 screen、Rust、nexus-cli 等依赖
5. **节点配置**: 输入节点数量和节点ID
6. **启动节点**: 自动创建 Screen 会话并启动节点

### 节点管理功能

进入管理界面后可以：

- 📊 **查看节点状态**: 显示所有运行中的节点
- 🔗 **连接到指定节点**: 进入特定节点的 Screen 会话
- 🛑 **停止指定节点**: 安全停止单个节点
- 🚫 **停止所有节点**: 批量停止所有运行中的节点
- 💻 **查看系统资源**: 显示内存、CPU、磁盘使用情况

## 🔧 常用命令

### Screen 会话管理
```bash
# 查看所有会话
screen -list

# 连接到指定节点
screen -r nexus_<节点ID>

# 分离会话 (在会话中)
Ctrl+A 然后按 D

# 停止指定节点
screen -S nexus_<节点ID> -X quit

# 停止所有节点
bash stop_all_nodes.sh
```

### 工具管理
```bash
# 启动管理工具
bash yoyom

# 直接安装模式
bash yoyom --install

# 直接管理模式
bash yoyom --manage
```

## 💾 内存配置指南

### 推荐配置
- **4GB 内存**: 不推荐运行 (内存不足)
- **6GB 内存**: 1 个节点
- **10GB 内存**: 2 个节点
- **14GB 内存**: 3 个节点
- **18GB 内存**: 4 个节点

### 计算公式
```
推荐节点数 = (总内存 - 2GB) ÷ 4GB
```

每个节点建议分配 4GB 内存，系统保留 2GB 内存运行。

## 🆔 获取节点ID

1. 访问 [https://nexus.xyz](https://nexus.xyz)
2. 使用邮箱注册账户
3. 创建新的节点
4. 复制节点ID (纯数字)

## ❓ 常见问题

### WSL 相关问题

**Q: 如何安装 WSL？**
A: 在 PowerShell 中运行 `wsl --install`，重启后设置用户名密码。

**Q: WSL 1 和 WSL 2 有什么区别？**
A: WSL 2 性能更好，推荐使用。可通过 `wsl --set-version <发行版名称> 2` 升级。

**Q: 如何检查 WSL 版本？**
A: 运行 `wsl -l -v` 查看已安装的发行版和版本。

### 节点相关问题

**Q: 为什么节点启动失败？**
A: 检查节点ID是否正确，确保是纯数字，以及网络连接是否正常。

**Q: 如何查看节点运行日志？**
A: 使用 `screen -r nexus_<节点ID>` 连接到对应的会话查看实时日志。

**Q: SSH 断开后节点还会运行吗？**
A: 是的，所有节点都在 Screen 会话中运行，SSH 断开后会继续运行。

**Q: 如何更新节点？**
A: 停止现有节点，重新运行安装脚本即可自动更新。

### 内存相关问题

**Q: 为什么我的 8GB 内存只能运行 1 个节点？**
A: 脚本会为系统保留 2GB 内存，剩余 6GB 只够运行 1 个节点 (每个 4GB)。

**Q: 可以强制运行更多节点吗？**
A: 不推荐，可能导致系统不稳定或节点异常。

## 🔄 更新日志

### v4.0.0 (2024-12-19)
- ✨ **新增 WSL 支持**: 完整支持 Windows WSL 环境
- 🔧 **智能环境检测**: 自动识别 WSL、Linux 环境和发行版
- 📦 **增强包管理**: 支持更多 Linux 发行版的包管理器
- 🛡️ **改进错误处理**: 更好的兼容性和错误提示
- 📚 **完善文档**: 详细的 WSL 安装和使用指南

### v3.0.0 (2024-12-18)
- 🎯 **智能内存检测**: 自动检测系统内存并推荐节点数量
- 🚀 **多开节点支持**: 支持同时运行多个节点实例
- 🛠️ **节点管理工具**: 集成的节点管理界面
- 📊 **资源监控**: 实时显示系统资源使用情况
- 🔧 **一体化设计**: 安装和管理功能整合到单个工具

### v2.0.0 (2024-12-17)
- 📱 **Screen 会话管理**: 支持后台运行和会话管理
- 🔄 **自动依赖安装**: 自动安装 Rust 和相关依赖
- ⚙️ **环境变量配置**: 自动配置 PATH 环境变量
- 🛡️ **错误处理增强**: 完善的错误检测和处理机制

### v1.0.0 (2024-12-16)
- 🎉 **首个版本**: 基础的 nexus-cli 自动安装功能
- 🚀 **节点启动**: 支持单节点启动和运行

## 👨‍💻 作者信息

- **作者**: @YOYOMYOYOA  
- **身份**: 空投玩家 | 现货玩家 | meme收藏  
- **GitHub**: [github.com/mumumusf](https://github.com/mumumusf)  

## ⚖️ 免责声明

- 本脚本仅供学习交流使用
- 完全免费，禁止出售或商业用途
- 使用本脚本所产生的任何后果由用户自行承担
- 如因使用本脚本造成任何损失，作者概不负责

## 🤝 支持项目

如果这个工具对您有帮助，欢迎：
- ⭐ 给项目点星
- 🐛 报告问题和建议
- 🔀 提交改进代码
- 📢 分享给其他用户

---

**注意**: 请确保您在使用前已阅读并同意 Nexus Network 的服务条款。 