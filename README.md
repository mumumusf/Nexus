# Nexus Network 一体化管理工具

[![GitHub](https://img.shields.io/badge/GitHub-mumumusf/Nexus-blue?style=flat-square&logo=github)](https://github.com/mumumusf/Nexus)

> 一体化 Nexus Network 节点管理工具，集成安装、多开、管理于一体

## 🚀 功能特点

- ✅ **一体化管理**: 安装、启动、管理功能集成在单个工具中
- ✅ **智能内存检测**: 自动检测系统内存并推荐节点数量
- ✅ **多开节点支持**: 根据内存大小同时运行多个节点
- ✅ **自动安装**: 一键安装 nexus-cli 和 screen
- ✅ **每次运行都重新安装最新版本**
- ✅ **持久运行**: SSH断开后继续运行
- ✅ **独立会话管理**: 每个节点独立的screen会话
- ✅ **完整管理界面**: 提供直观的菜单式管理界面
- ✅ **资源监控**: 实时查看系统资源使用情况
- ✅ **命令行支持**: 支持交互式和命令行两种模式
- ✅ **用户友好**: 简单易用，新手友好

## 📋 系统要求

- Linux VPS (Ubuntu/CentOS/Debian)
- **CPU**: 2核+ (推荐4核以上用于多开)
- **内存**: 每个节点需要4GB RAM + 系统保留2GB
  - 6GB RAM: 可运行1个节点
  - 10GB RAM: 可运行2个节点
  - 18GB RAM: 可运行4个节点
- **存储**: 10GB+ 可用空间
- **网络**: 稳定网络连接

## 🛠️ 快速开始

### 下载一体化工具

```bash
# 下载一体化管理工具
wget https://raw.githubusercontent.com/mumumusf/Nexus/main/yoyom

# 运行工具
bash yoyom
```

## 🎯 使用方式

### 1. 交互模式（推荐）

```bash
bash yoyom
```

显示主菜单：
```
=============== 主菜单 ===============
1. 🚀 安装并启动 Nexus 节点
2. 🛠️ 管理现有节点
3. 💻 查看系统资源
4. ℹ️ 显示帮助信息
0. 🚪 退出
====================================
```

### 2. 命令行模式

```bash
# 直接进入安装模式
bash yoyom --install

# 直接进入管理模式
bash yoyom --manage
```

## 📖 详细使用步骤

### 1. 首次安装和启动节点

选择菜单 `1. 🚀 安装并启动 Nexus 节点`

#### 内存检测和节点推荐
```
🔍 正在检测系统内存...
💾 系统总内存: 16GB
💿 可用内存: 14GB
🎯 推荐节点数量: 3 个节点
📊 内存分配策略: 每节点4GB，系统保留2GB
```

#### 自动安装
工具会自动安装：
- 📦 系统依赖 (protobuf-compiler, curl)
- 🦀 Rust工具链
- ⚙️ Rust默认版本设置
- 📥 nexus-cli（需要手动确认条款）
- 🔧 环境变量配置

#### 配置多开节点
```
=== 多开节点配置 ===
🎯 系统推荐运行 3 个节点

请输入要运行的节点数量 (1-3): 2
✅ 将运行 2 个节点

请依次输入 2 个节点ID（纯数字）:
节点 1 ID: 7366937
✅ 节点 1 ID验证通过: 7366937
节点 2 ID: 7366938
✅ 节点 2 ID验证通过: 7366938
```

#### 启动多个节点
```
🚀 开始启动 2 个节点...

📡 启动节点 1/2: 7366937
✅ 节点 7366937 已在Screen会话中启动！
⏳ 等待3秒后启动下一个节点...
📡 启动节点 2/2: 7366938
✅ 节点 7366938 已在Screen会话中启动！
```

### 2. 节点管理

选择菜单 `2. 🛠️ 管理现有节点`

**管理功能包括:**
- 📊 查看节点状态
- 🔗 连接到指定节点
- 🛑 停止指定节点
- 🚫 停止所有节点
- 💻 查看系统资源
- 🔄 刷新菜单

### 3. 系统资源监控

选择菜单 `3. 💻 查看系统资源`

显示详细的系统信息：
- 内存使用情况
- CPU使用率
- 磁盘使用情况
- 运行中的节点数量
- 预估内存使用

### 4. 帮助信息

选择菜单 `4. ℹ️ 显示帮助信息`

查看详细的使用说明和常用命令。

## 🔧 手动管理命令

#### 查看所有节点状态
```bash
screen -list
```

#### 连接到指定节点
```bash
screen -r nexus_7366937
```

#### 分离会话（保持运行）
在会话中按 `Ctrl+A` 然后按 `D`

#### 停止指定节点
```bash
screen -S nexus_7366937 -X quit
```

#### 停止所有节点
```bash
./stop_all_nodes.sh
```

#### 重新启动管理工具
```bash
bash yoyom
```

## 🔄 运行机制

- **一体化设计**: 单文件集成所有功能，简化使用
- **智能检测**: 自动检测内存并推荐最优节点数量
- **最新版本**: 每次运行都重新安装最新版本
- **持久运行**: SSH断开后所有节点继续运行
- **独立会话**: 每个节点独立screen会话，互不影响
- **资源管理**: 合理分配内存，避免系统资源竞争
- **启动间隔**: 节点间隔3秒启动，避免资源冲突
- **菜单导航**: 直观的菜单系统，操作简单

## ❓ 常见问题

**Q: 如何获取节点ID？**
A: 访问 [nexus.xyz](https://nexus.xyz) 注册并创建节点

**Q: 可以运行多少个节点？**
A: 根据内存自动计算，每个节点需要4GB，系统保留2GB

**Q: SSH断开后节点会停止吗？**
A: 不会，所有节点会在独立的screen会话中继续运行

**Q: 如何查看单个节点的运行状态？**
A: 使用 `screen -r nexus_<节点ID>` 或通过管理工具连接

**Q: 内存不够可以强制多开吗？**
A: 不建议，会影响系统稳定性和节点性能

**Q: 节点ID可以重复吗？**
A: 不可以，工具会自动检测并阻止重复ID

**Q: 如何更新工具？**
A: 重新下载最新版本的 yoyom 文件即可

**Q: 工具支持哪些操作模式？**
A: 支持交互式菜单模式和命令行模式（bash yoyom --install, bash yoyom --manage）

## 📊 内存分配示例

| 系统内存 | 推荐节点数 | 节点内存 | 系统保留 |
|---------|-----------|----------|----------|
| 6GB     | 1个       | 4GB      | 2GB      |
| 10GB    | 2个       | 8GB      | 2GB      |
| 14GB    | 3个       | 12GB     | 2GB      |
| 18GB    | 4个       | 16GB     | 2GB      |
| 22GB    | 5个       | 20GB     | 2GB      |

## 📝 更新日志

### v4.0.0 (一体化版)
- ✨ **重大更新**: 将安装和管理功能合并为单个工具
- ✨ **新增**: 交互式主菜单界面
- ✨ **新增**: 命令行参数支持（bash yoyom --install, bash yoyom --manage）
- ✨ **新增**: 内置帮助系统
- ✨ **改进**: 更简洁的使用流程
- ✨ **改进**: 统一的用户界面设计
- ✨ **简化**: 只需下载一个文件即可完成所有操作

### v3.0.0 (多开版)
- ✨ **新增**: 智能内存检测功能
- ✨ **新增**: 多开节点支持
- ✨ **新增**: 节点管理工具
- ✨ **新增**: 系统资源监控
- ✨ **新增**: 节点ID重复检测
- ✨ **改进**: 启动间隔机制
- ✨ **改进**: 更完善的错误处理

### v2.0.0
- ✨ 重新设计安装流程
- ✨ 每次运行都重新安装最新版本
- ✨ 添加用户选择功能
- ✨ 移除2小时自动重启
- ✨ 改进安装日志显示

### v1.0.0
- ✨ 初始版本发布
- ✨ 自动安装screen和nexus-cli
- ✨ 支持2小时自动重启
- ✨ 持久运行功能

## 🎯 使用建议

1. **首次使用**: 运行 `bash yoyom` 选择"安装并启动 Nexus 节点"
2. **日常管理**: 运行 `bash yoyom` 选择"管理现有节点"
3. **快速管理**: 使用 `bash yoyom --manage` 直接进入管理界面
4. **系统监控**: 定期查看系统资源使用情况
5. **保持更新**: 定期下载最新版本的工具

## 👨‍💻 作者

**@YOYOMYOYOA**
- GitHub: [github.com/mumumusf](https://github.com/mumumusf)

---

⭐ 如果对您有帮助，请给个 Star 支持！ 